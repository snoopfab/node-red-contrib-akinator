<script type="text/javascript">
    RED.nodes.registerType('akinator', {
        category: 'function',
        color: '#B299FF',
        icon: 'akinator.png',
        defaults: {
            name: { value: '' },
            region: { value: 'fr', required: true },
        },
        inputs: 1,
        outputs: 1,
        label: function () {
            return this.name || 'Akinator';
        },
    });
</script>
<script type="text/x-red" data-template-name="akinator">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-row">
        <label for="node-input-region"><i class="fa fa-wrench"></i> Region</label>
        <select type="text" id="node-input-region">
            <option>en</option>
            <option>en_objects</option>
            <option>en_animals</option>
            <option>ar</option>
            <option>cn</option>
            <option>de</option>
            <option>de_animals</option>
            <option>es</option>
            <option>es_animals</option>
            <option>fr</option>
            <option>fr_objects</option>
            <option>fr_animals</option>
            <option>il</option>
            <option>it</option>
            <option>it_animals</option>
            <option>jp</option>
            <option>jp_animals</option>
            <option>kr</option>
            <option>nl</option>
            <option>pl</option>
            <option>pt</option>
            <option>ru</option>
            <option>tr</option>
            <option>id</option>
        </select>
    </div>
</script>
<script type="text/x-red" data-help-name="akinator">
    <h3>Input</h3>
    <dl class="message-properties">
        <dt>params <span class="property-type">Object</span></dt>
        <dd>one payload with an answer integer parameter that can take the following values:
	    <ul>
		    <li><b>null</b>:  for starting/restarting the game</li>
	            <li><b>0</b> : for answering 'yes' to the question</li>
	            <li><b>1</b> : for answering 'no' to the question</li>
	            <li><b>2</b> : for answering 'i don't know' to the question</li>
	            <li><b>3</b> : for answering 'probably' to the question</li>
	            <li><b>4</b> : for answering 'probably not' to the question.</li>
	    </ul>
            <code>
<pre>
{
    "payload": {
        "answer": integer,
        "region": string  //  [This one is optionnal and can be used to override the region selected in the node settings]
    }
 }
</pre>
            </code>
        </dd>
    </dl>

    <h3>Outputs</h3>
     <ol class="node-ports">
         <li>Standard output
             <dl class="message-properties">
                 <dt>payload <span class="property-type">Object</span></dt>
                 <dd>the output message will contain the following parameters:
			<ul>
	                    <li><b>question</b>: the question that akinator asks you to guess the character</li>
	                    <li><b>answers</b>: Can be either</li>
	                        <ul><li>the set of possible answers internationalized as an array of string</li>
	                        <li>the set of guesses as an array of objects</li></ul>
	                    <li><b>progress</b> : the progression in percent of the game.</li>
	                    <li><b>win</b> : boolean flag indicating that the game ended and the results are given in the answers array</li>
			</ul>
                    	<code>
<pre>{
   "question":"Is your character real ?",
   "answers":["Yes","No","I don't know","Probably","Probably not"],
   "progress":0,
   "win":false
}
</pre>
			</code>
		</dd>
             </dl>
         </li>
     </ol>

 </script>
